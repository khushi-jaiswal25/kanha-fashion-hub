<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Buy Now - Kanha Fashion Hub</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      .bg-black {
        background-color: #000000;
      }
      .text-yellow {
        color: #ffd700;
      }
      .button-style {
        background-color: #000000;
        color: #ffd700;
        border: 2px solid #ffd700;
        transition: all 0.3s ease;
      }
      .button-style:hover {
        background-color: #ffd700;
        color: #000000;
      }
    </style>
  </head>
  <body class="bg-black text-yellow min-h-screen">
    <header class="p-6 text-center">
      <h1 class="text-3xl sm:text-4xl font-bold">Buy Now</h1>
    </header>
    <main class="p-6 flex justify-center">
      <div
        class="bg-gradient-to-r from-yellow-500 via-yellow-400 to-yellow-300 p-6 rounded-lg shadow-2xl border border-yellow-500 max-w-sm w-full"
      >
        <img
          id="product-image"
          src=""
          alt="Product Image"
          class="w-full h-48 object-contain rounded-lg shadow-md"
        />
        <h2 id="product-name" class="text-black text-xl font-bold mt-4"></h2>
        <p id="product-price" class="text-black text-lg font-semibold mt-2"></p>
        <button
          onclick="proceedToPayment()"
          class="button-style px-4 py-2 rounded-lg font-semibold mt-4 w-full"
        >
          Proceed to Payment
        </button>
      </div>
    </main>
    <script>
      // Get product details from URL parameters
      const urlParams = new URLSearchParams(window.location.search);
      const productName = urlParams.get("name");
      const productPrice = urlParams.get("price");
      const productImage = urlParams.get("image");

      // Populate the product details
      document.getElementById("product-name").textContent = productName;
      document.getElementById(
        "product-price"
      ).textContent = `Price: â‚¹${productPrice}`;
      document.getElementById("product-image").src = productImage;

      // Redirect to payment page with only the selected product details
      function proceedToPayment() {
        // Clear any existing cart data to ensure only the selected product is processed
        localStorage.removeItem("cartForPayment");

        // Store the selected product details in localStorage
        const selectedProduct = {
          name: productName,
          price: productPrice,
          image: productImage,
        };
        localStorage.setItem(
          "selectedProduct",
          JSON.stringify(selectedProduct)
        );

        // Redirect to the payment page
        window.location.href = `payment.html?name=${productName}&price=${productPrice}`;
      }
    </script>
  </body>
</html>
