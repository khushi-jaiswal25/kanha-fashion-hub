<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Payment - Kanha Fashion Hub</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      .bg-black {
        background-color: #000000;
      }
      .text-yellow {
        color: #ffd700;
      }
      .button-style {
        background-color: #000000;
        color: #ffd700;
        border: 2px solid #ffd700;
        transition: all 0.3s ease;
      }
      .button-style:hover {
        background-color: #ffd700;
        color: #000000;
      }
    </style>
  </head>
  <body class="bg-black text-yellow min-h-screen">
    <header class="p-6 text-center">
      <h1 class="text-3xl sm:text-4xl font-bold">Secure Payment</h1>
      <p class="text-yellow mt-2">"Complete your purchase with confidence."</p>
    </header>
    <main class="p-6">
      <!-- Total Price Section -->
      <div
        id="total-price-section"
        class="text-yellow text-lg font-semibold mt-6 text-center bg-black p-4 rounded-lg shadow-lg border border-yellow-500 max-w-md mx-auto"
      >
        Total Price: â‚¹<span id="total-price">0</span>
      </div>

      <!-- Payment Form -->
      <form
        id="payment-form"
        class="space-y-6 mt-6 max-w-md mx-auto bg-gradient-to-r from-yellow-500 via-yellow-400 to-yellow-300 p-6 rounded-lg shadow-2xl border border-yellow-500"
      >
        <h2 class="text-xl sm:text-2xl font-bold text-black text-center">
          Select Payment Method
        </h2>

        <!-- UPI Payment -->
        <div class="flex items-center">
          <input
            type="radio"
            id="upi"
            name="payment-method"
            value="UPI"
            class="mr-2"
          />
          <label for="upi" class="text-sm sm:text-lg text-black">UPI</label>
        </div>

        <!-- Cash on Delivery -->
        <div class="flex items-center">
          <input
            type="radio"
            id="cod"
            name="payment-method"
            value="Cash on Delivery"
            class="mr-2"
          />
          <label for="cod" class="text-sm sm:text-lg text-black">
            Cash on Delivery (COD)
          </label>
        </div>

        <!-- Proceed Button -->
        <button
          type="button"
          onclick="proceedToPayment()"
          class="button-style px-4 py-2 rounded-lg font-semibold mt-4 w-full"
        >
          Proceed to Pay
        </button>
      </form>
    </main>
    <script>
      // Retrieve total price from localStorage
      const cartTotalPrice = localStorage.getItem("cartTotalPrice"); // Retrieve total price from shopping cart
      const totalPriceElement = document.getElementById("total-price");

      // Display the total price
      if (cartTotalPrice) {
        totalPriceElement.textContent = cartTotalPrice;
      } else {
        totalPriceElement.textContent = "0"; // Default to 0 if no total price is found
      }

      function proceedToPayment() {
        // Get the selected payment method
        const selectedMethod = document.querySelector(
          'input[name="payment-method"]:checked'
        );

        // Check if a payment method is selected
        if (!selectedMethod) {
          alert("Please select a payment method before proceeding.");
          return;
        }

        // Display confirmation message
        const paymentMethod = selectedMethod.value;
        alert(`You have selected ${paymentMethod}. Redirecting to payment...`);

        // Clear the cart data after payment
        localStorage.removeItem("selectedProduct");
        localStorage.removeItem("cartForPayment");
        localStorage.removeItem("cartTotalPrice");

        // Simulate redirection (you can replace this with actual redirection logic)
        if (paymentMethod === "UPI") {
          window.location.href = "proceed-to-pay.html"; // Example UPI payment page
        } else if (paymentMethod === "Cash on Delivery") {
          window.location.href = "order-confirmation.html"; // Example COD confirmation page
        }
      }
    </script>
  </body>
</html>
